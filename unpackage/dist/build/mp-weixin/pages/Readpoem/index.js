"use strict";const e=require("../../common/vendor.js"),o=require("../../store/theme.js"),a=require("../../store/user.js");if(!Array){e.resolveComponent("uni-card")()}Math||t();const t=()=>"../../components/Poem/index.js",s={__name:"index",setup(t){const s=o.useThemeterStor(),n=a.useUserstore(),r=e.$s.importObject("poem"),c=e.ref(),l=e.ref([]),u=e.ref(0);return e.onLoad((e=>{e.poem?(c.value=JSON.parse(e.poem),console.log(c)):(l.value=JSON.parse(e.data),u.value=JSON.parse(e.key),async function(e){c.value={};try{await r.getone(l.value[e].id).then((e=>{c.value=e.data[0]})).catch((e=>{console.log(e)}))}catch(o){console.log("起飞")}}(u.value))})),(o,a)=>e.e({a:c.value},c.value?{b:e.p({poem:c.value})}:{c:e.o((o=>async function(){const{msg:o}=await n.removeCollect(u);console.log(o),e.index.showModal({content:o})}())),d:e.p({title:"内容已被删除",thumbnail:"",note:"Tips"})},{e:c.value?1:"",f:c.value?"":1,g:e.s(e.unref(s).theme)})}},n=e._export_sfc(s,[["__scopeId","data-v-571c6faa"]]);wx.createPage(n);
