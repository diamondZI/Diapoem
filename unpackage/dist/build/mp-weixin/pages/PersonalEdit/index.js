"use strict";const e=require("../../common/vendor.js"),a=require("../../store/user.js");if(!Array){e.resolveComponent("uni-popup")()}Math;const r={__name:"index",setup(r){const o=e.ref("空白"),t=e.ref(""),s=e.ref(null),u=a.useUserstore(),n=e.ref(10),l=e.computed((()=>n.value-o.value.length)),c=a=>{e.index.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:e=>{u.SetAvatarUrl(e.tempFilePaths[0])}})},p=(e,a,r)=>{s.value.open(),o.value=e,t.value=a,n.value=r},f=e=>{e&&(console.log("改名"),u.SetText(t.value,o.value)),s.value.close()};return e.onBeforeUnmount((()=>{u.SetUser()})),(a,r)=>({a:e.unref(u).UserData.avatar,b:e.o(c),c:e.t(e.unref(u).UserData.user_name),d:e.o((a=>p(e.unref(u).UserData.user_name,"user_name",7))),e:e.t(e.unref(u).UserData.slogan),f:e.o((a=>p(e.unref(u).UserData.slogan,"slogan",12))),g:e.t(e.unref(u).UserData.self_introduction),h:e.o((a=>p(e.unref(u).UserData.self_introduction,"self_introduction",20))),i:n.value,j:o.value,k:e.o((e=>o.value=e.detail.value)),l:e.t(e.unref(l)),m:e.o((e=>f(!0))),n:e.o((e=>f(!1))),o:e.sr(s,"d61c6487-0",{k:"popupCoupon"}),p:e.p({type:"bottom"})})}},o=e._export_sfc(r,[["__scopeId","data-v-d61c6487"]]);wx.createPage(o);
